"use strict";(self.webpackChunkwatch_quest=self.webpackChunkwatch_quest||[]).push([[592],{2496:(E,h,n)=>{n.d(h,{i:()=>M});var t=n(826),v=n(5577),a=n(4004),l=n(8746),r=n(5504),o=n(2223),c=n(5884),_=n(6789);let M=(()=>{class u{constructor(S,g,P){this.actions$=S,this.moviesService=g,this.store=P,this.loadMovies$=(0,t.GW)(()=>this.actions$.pipe((0,t.l4)(r.X.loadMovies),(0,v.z)(({page:s,category:e})=>{switch(e){case"nowPlaying":return this.moviesService.getNowPlaying(s).pipe((0,a.U)(i=>r.X.loadMoviesSuccess({movies:i,category:e})));case"popular":return this.moviesService.getPopular(s).pipe((0,a.U)(i=>r.X.loadMoviesSuccess({movies:i,category:e})));case"topRated":return this.moviesService.getTopRated(s).pipe((0,a.U)(i=>r.X.loadMoviesSuccess({movies:i,category:e})));default:return this.moviesService.getUpcoming(s).pipe((0,a.U)(i=>r.X.loadMoviesSuccess({movies:i,category:e})))}}))),this.addFavorite$=(0,t.GW)(()=>this.actions$.pipe((0,t.l4)(r.X.addFavorite),(0,v.z)(({data:{request:s}})=>this.moviesService.addFavorite(s).pipe((0,l.x)(()=>this.store.dispatch(r.X.loadFavoriteMovies())),(0,a.U)(e=>r.X.addFavoriteSuccess({data:{response:Object.assign(Object.assign({},e),{media_id:s?.media_id})}})))))),this.loadFavoriteMovies$=(0,t.GW)(()=>this.actions$.pipe((0,t.l4)(r.X.loadFavoriteMovies),(0,v.z)(()=>this.moviesService.getFavoriteMovies().pipe((0,a.U)(s=>(s.results=[...s.results.map(e=>Object.assign(Object.assign({},e),{is_favorite:!0}))],r.X.loadFavoriteMoviesSuccess({data:{movies:s.results}}))))))),this.addToWatchlist$=(0,t.GW)(()=>this.actions$.pipe((0,t.l4)(r.X.addToWatchlist),(0,v.z)(({data:{request:s}})=>this.moviesService.addToWatchlist(s).pipe((0,l.x)(()=>this.store.dispatch(r.X.loadWatchlistMovies())),(0,a.U)(e=>r.X.addToWatchlistSuccess({data:{response:Object.assign(Object.assign({},e),{media_id:s?.media_id})}})))))),this.loadWatchlistMovies$=(0,t.GW)(()=>this.actions$.pipe((0,t.l4)(r.X.loadWatchlistMovies),(0,v.z)(()=>this.moviesService.getWatchlistMovies().pipe((0,a.U)(s=>(s.results=[...s.results.map(e=>Object.assign(Object.assign({},e),{is_watchlist:!0}))],r.X.loadWatchlistMoviesSuccess({data:{movies:s.results}}))))))),this.rateMovie$=(0,t.GW)(()=>this.actions$.pipe((0,t.l4)(r.X.rateMovie),(0,v.z)(({rating:s,id:e})=>this.moviesService.rateMovie(e,s).pipe((0,a.U)(()=>r.X.rateMovieSuccess({id:e,rating:s})))))),this.loadRatedMovies$=(0,t.GW)(()=>this.actions$.pipe((0,t.l4)(r.X.loadRatedMovies),(0,v.z)(()=>this.moviesService.getRatedMovies().pipe((0,a.U)(s=>r.X.loadRatedMoviesSuccess({data:{movies:s.results}})))))),this.loadMovieDetails$=(0,t.GW)(()=>this.actions$.pipe((0,t.l4)(r.X.loadMovieDetails),(0,v.z)(({id:s,category:e})=>this.moviesService.getMovieDetails(s).pipe((0,l.x)(()=>{this.store.dispatch(r.X.loadFavoriteMovies()),this.store.dispatch(r.X.loadWatchlistMovies()),this.store.dispatch(r.X.loadRatedMovies())}),(0,a.U)(i=>r.X.loadMovieDetailsSuccess({data:{movie:i,category:e}})))))),this.loadMovieProviders$=(0,t.GW)(()=>this.actions$.pipe((0,t.l4)(r.X.loadMovieProviders),(0,v.z)(({id:s})=>this.moviesService.getProviders(s).pipe((0,a.U)(e=>r.X.loadMovieProvidersSuccess({data:{providers:e}}))))))}}return u.\u0275fac=function(S){return new(S||u)(o.LFG(t.eX),o.LFG(c.I),o.LFG(_.yh))},u.\u0275prov=o.Yz7({token:u,factory:u.\u0275fac}),u})()},5055:(E,h,n)=>{n.d(h,{_:()=>l});var t=n(2340),v=n(2223),a=n(3144);let l=(()=>{class r{constructor(c){this.http=c}seriesService(c=1){return this.http.get(`${t.N.tmdbApiHost}/tv/airing_today?page=${c}`)}getOnTheAir(c=1){return this.http.get(`${t.N.tmdbApiHost}/tv/on_the_air?page=${c}`)}getPopular(c=1){return this.http.get(`${t.N.tmdbApiHost}/tv/popular?page=${c}`)}getTopRated(c=1){return this.http.get(`${t.N.tmdbApiHost}/tv/top_rated?page=${c}`)}getAiringToday(c=1){return this.http.get(`${t.N.tmdbApiHost}/tv/airing_today?page=${c}`)}rateSeries(c,_){return this.http.post(`${t.N.tmdbApiHost}/tv/${c}/rating`,{value:_})}getRatedSeries(){return this.http.get(`${t.N.tmdbApiHost}/account/account_id/rated/tv`)}addFavorite(c){return this.http.post(`${t.N.tmdbApiHost}/account/account_id/favorite`,c)}getFavoriteSeries(){return this.http.get(`${t.N.tmdbApiHost}/account/account_id/favorite/tv`)}addToWatchlist(c){return this.http.post(`${t.N.tmdbApiHost}/account/account_id/watchlist`,c)}getWatchlistSeries(){return this.http.get(`${t.N.tmdbApiHost}/account/account_id/watchlist/tv`)}getSeriesDetails(c){return this.http.get(`${t.N.tmdbApiHost}/tv/${c}`)}getSeriesProviders(c){return this.http.get(`${t.N.tmdbApiHost}/tv/${c}/watch/providers`)}getSerieCast(c){return this.http.get(`${t.N.tmdbApiHost}/tv/${c}/credits`)}}return r.\u0275fac=function(c){return new(c||r)(v.LFG(a.eN))},r.\u0275prov=v.Yz7({token:r,factory:r.\u0275fac}),r})()},278:(E,h,n)=>{n.d(h,{_:()=>u});var t=n(826),v=n(515),a=n(5577),l=n(4004),r=n(8746),o=n(1535),c=n(2223),_=n(5055),M=n(6789);let u=(()=>{class p{constructor(g,P,s){this.actions$=g,this.seriesService=P,this.store=s,this.loadSeries$=(0,t.GW)(()=>this.actions$.pipe((0,t.l4)(o.F.loadSeries),(0,a.z)(({page:e,category:i})=>{switch(i){case"onTheAir":return this.seriesService.seriesService(e).pipe((0,l.U)(d=>o.F.loadSeriesSuccess({series:d,category:i})));case"popular":return this.seriesService.getPopular(e).pipe((0,l.U)(d=>o.F.loadSeriesSuccess({series:d,category:i})));case"topRated":return this.seriesService.getTopRated(e).pipe((0,l.U)(d=>o.F.loadSeriesSuccess({series:d,category:i})));case"airingToday":return this.seriesService.getAiringToday(e).pipe((0,l.U)(d=>o.F.loadSeriesSuccess({series:d,category:i})));default:return v.E}}))),this.addFavorite$=(0,t.GW)(()=>this.actions$.pipe((0,t.l4)(o.F.addFavorite),(0,a.z)(({data:{request:e}})=>this.seriesService.addFavorite(e).pipe((0,r.x)(()=>this.store.dispatch(o.F.loadFavoriteSeries())),(0,l.U)(i=>o.F.addFavoriteSuccess({data:{response:Object.assign(Object.assign({},i),{media_id:e?.media_id})}})))))),this.loadFavoriteMovies$=(0,t.GW)(()=>this.actions$.pipe((0,t.l4)(o.F.loadFavoriteSeries),(0,a.z)(()=>this.seriesService.getFavoriteSeries().pipe((0,l.U)(e=>(e.results=[...e.results.map(i=>Object.assign(Object.assign({},i),{is_favorite:!0}))],o.F.loadFavoriteSeriesSuccess({data:{series:e.results}}))))))),this.addToWatchlist$=(0,t.GW)(()=>this.actions$.pipe((0,t.l4)(o.F.addToWatchlist),(0,a.z)(({data:{request:e}})=>this.seriesService.addToWatchlist(e).pipe((0,r.x)(()=>this.store.dispatch(o.F.loadWatchlistSeries())),(0,l.U)(i=>o.F.addToWatchlistSuccess({data:{response:Object.assign(Object.assign({},i),{media_id:e?.media_id})}})))))),this.loadWatchlistSeries$=(0,t.GW)(()=>this.actions$.pipe((0,t.l4)(o.F.loadWatchlistSeries),(0,a.z)(()=>this.seriesService.getWatchlistSeries().pipe((0,l.U)(e=>(e.results=[...e.results.map(i=>Object.assign(Object.assign({},i),{is_watchlist:!0}))],o.F.loadWatchlistSeriesSuccess({data:{series:e.results}}))))))),this.rateSerie$=(0,t.GW)(()=>this.actions$.pipe((0,t.l4)(o.F.rateSerie),(0,a.z)(({rating:e,id:i})=>this.seriesService.rateSeries(i,e).pipe((0,l.U)(()=>o.F.rateSerieSuccess({id:i,rating:e})))))),this.loadRatedSeries$=(0,t.GW)(()=>this.actions$.pipe((0,t.l4)(o.F.loadRatedSeries),(0,a.z)(()=>this.seriesService.getRatedSeries().pipe((0,l.U)(e=>o.F.loadRatedSeriesSuccess({data:{series:e.results}})))))),this.loadSeriesDetails$=(0,t.GW)(()=>this.actions$.pipe((0,t.l4)(o.F.loadSerieDetails),(0,a.z)(({id:e,category:i})=>this.seriesService.getSeriesDetails(e).pipe((0,r.x)(()=>{this.store.dispatch(o.F.loadFavoriteSeries()),this.store.dispatch(o.F.loadWatchlistSeries()),this.store.dispatch(o.F.loadRatedSeries())}),(0,l.U)(d=>o.F.loadSerieDetailsSuccess({data:{serie:d,category:i}})))))),this.loadSeriesCast$=(0,t.GW)(()=>this.actions$.pipe((0,t.l4)(o.F.loadSerieCast),(0,a.z)(({id:e})=>this.seriesService.getSerieCast(e).pipe((0,l.U)(i=>o.F.loadSerieCastSuccess({data:{id:e,credits:i}})))))),this.loadSerieProviders$=(0,t.GW)(()=>this.actions$.pipe((0,t.l4)(o.F.loadSerieProviders),(0,a.z)(({id:e})=>this.seriesService.getSeriesProviders(e).pipe((0,l.U)(i=>(console.log(i),o.F.loadSerieProvidersSuccess({data:{providers:i}})))))))}}return p.\u0275fac=function(g){return new(g||p)(c.LFG(t.eX),c.LFG(_._),c.LFG(M.yh))},p.\u0275prov=c.Yz7({token:p,factory:p.\u0275fac}),p})()},6305:(E,h,n)=>{n.d(h,{BE:()=>_,C9:()=>M,Gr:()=>o,ID:()=>P,OI:()=>g,P1:()=>u,QB:()=>c,S9:()=>S,wu:()=>l,xr:()=>r,yP:()=>p});var t=n(6789),v=n(9420);const a=(0,t.ZF)(v.W5),l=(0,t.P1)(a,s=>{const{ids:e,entities:i}=s.onTheAir.series;return e.map(d=>i[d]).filter(d=>void 0!==d)}),r=(0,t.P1)(a,s=>{const{ids:e,entities:i}=s.popular.series;return e.map(d=>i[d]).filter(d=>void 0!==d)}),o=(0,t.P1)(a,s=>{const{ids:e,entities:i}=s.topRated.series;return e.map(d=>i[d]).filter(d=>void 0!==d)}),c=(0,t.P1)(a,s=>{const{ids:e,entities:i}=s.airingToday.series;return e.map(d=>i[d]).filter(d=>void 0!==d)}),_=(0,t.P1)(a,s=>{const{ids:e,entities:i}=s.favorites.series;return e.map(d=>i[d])}),M=(0,t.P1)(a,s=>{const{ids:e,entities:i}=s.watchlist.series;return e.map(d=>i[d])}),u=(0,t.P1)(a,s=>s.onTheAir.currentPage),p=(0,t.P1)(a,s=>s.popular.currentPage),S=(0,t.P1)(a,s=>s.topRated.currentPage),g=(0,t.P1)(a,s=>s.airingToday.currentPage),P=s=>(0,t.P1)(a,e=>Object.assign(Object.assign(Object.assign(Object.assign({},e.onTheAir.series.entities),e.popular.series.entities),e.topRated.series.entities),e.airingToday.series.entities)[s])}}]);